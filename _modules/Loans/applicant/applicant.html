<fieldset>
    <legend>Farmer</legend>
    <div class="container-fluid">
        <div class="row">
            <form novalidate>
                <h6 class="text-right small pulled-up">
                    <span class="req">*</span> indicates Required Field
                </h6>
                <div class="row">
                    <div class="form-group col-sm-12">
                        <!-- FARMER/SSN/DOB -->
                        <div class="row">
                            <div class="form_group col-sm-7 required">
                                <label><span class="req">*</span>
                                    Name (Last Name, First Name):
                                </label>
                                <input type="text"
                                       id="farmer"
                                       class="form-control"
                                       autocomplete="false"
                                       ng-model="loan.farmer.farmer"
                                       typeahead="f.farmer for f in farmers|filter:$viewValue|limitTo:8"
                                       typeahead-on-select="onFarmerSelect($item, $model, $label)"/>
                            </div>
                            <div class="form-group col-sm-3">
                                <label><span class="req">*</span>
                                    SSN / Tax ID:</label>
                                <input type="text"
                                       class="form-control"
                                       name="ssn"
                                       ng-model="loan.farmer.ssn"
                                       style="width: 150px;"/>
                            </div>
                            <div class="col-sm-2">
                                <label>Farming Experience</label>
                                <br/>
                                <p>{{loan.farmer.farm_exp}}</p>
                            </div>
                        </div>
                        <!-- FARMER/SSN/DOB -->

                        <!-- ADDRESS -->
                        <div class="row">
                            <div class="form-group col-sm-4">
                                <label>Mailing Address:</label>
                                <input type="text"
                                       name="address"
                                       ng-model="loan.farmer.address"
                                       class="form-control"/>
                            </div>
                            <div class="form-group col-sm-3">
                                <label>City:</label>
                                <input type="text" name="city" ng-model="loan.farmer.city" class="form-control"/>
                            </div>
                            <div class="form-group col-sm-2">
                                <label>State:</label>
                                <select name="state"
                                        class="form-control"
                                        ng-model="loan.farmer.state_id"
                                        ng-options="s.id as s.state for s in states">
                                    <option value="">Please select ...</option>
                                </select>
                            </div>
                            <div class="form-group col-sm-2">
                                <label>Zip:</label>
                                <input type="text"
                                       name="zip"
                                       ng-model="loan.farmer.zip"
                                       class="form-control"/>
                            </div>
                        </div>
                        <!-- ADDRESS -->

                        <!-- PHONE / EMAIL / INFO -->
                        <div class="row">
                            <div class="form-group col-sm-4">
                                <label>Phone:</label>
                                <input type="text"
                                       name="phone"
                                       ui-mask="(999) 999-9999"
                                       ng-model="loan.farmer.phone"
                                       class="form-control"/>
                            </div>
                            <div class="form-group col-sm-3">
                                <label>Email Address:</label>
                                <input type="text"
                                       name="email"
                                       ng-model="loan.farmer.email"
                                       class="form-control"/>
                            </div>
                            <div class="form-group col-sm-2">
                                <label>DOB:</label>
                                <input type="text"
                                       name="dob"
                                       ui-mask="99/99/9999"
                                       ng-model="loan.farmer.dob"
                                       class="form-control"
                                       style="width: 140px;"/>
                            </div>
                            <div class="form-group col-sm-3">
                                <label>Year Began Farming:</label>
                                <input type="text"
                                       name="first_year_farmer"
                                       ng-model="loan.farmer.first_year_farmer"
                                       class="form-control"
                                       style="width:120px;"/>
                            </div>

                        </div>
                        <!-- PHONE / EMAIL / DOB -->
                    </div>
                    <div class="row">
                        <div class="col-sm-12 text-right">
                            <button style="margin-right:10px;"
                                    class="btn btn-primary"
                                    ng-click="createFarmer(loan.farmer)"
                                    ng-if="newapplication">
                                NEXT
                            </button>
                            <button style="margin-right:10px;"
                                    class="btn btn-primary"
                                    ng-click="updateFarmer(loan.farmer)"
                                    ng-if="!newapplication">
                                UPDATE
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</fieldset>
<br><br>
<fieldset>
    <legend>Applicant</legend>
    <div class="container-fluid">
        <div class="row">
            <form novalidate>
                <!-- APPLICANT / SSN -->
                <div class="row">
                    <div class="form_group col-md-8">
                        <label>Name (Last Name, First Name or Company):</label>
                        <br/>
                        <input type="text" class="form-control"
                               autocomplete="false"
                               ng-model="loan.applicant.applicant"
                               typeahead="a.applicant for a in applicants|filter:$viewValue|limitTo:8"
                               typeahead-on-select="onApplicantSelect($item, $model, $label)"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Entity Type</label><br>
                        <input type="radio" name="entity_type_id" ng-model="loan.entity_type_id" value="2"/> <label>I</label>&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="entity_type_id" ng-model="loan.entity_type_id" value="5"/> <label>S</label>&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="entity_type_id" ng-model="loan.entity_type_id" value="4"/> <label>P</label>&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="entity_type_id" ng-model="loan.entity_type_id" value="3"/> <label>J</label>&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="entity_type_id" ng-model="loan.entity_type_id" value="1"/> <label>C</label>
                    </div>
                </div>
                <!-- APPLICANT / SSN / DOB -->

                <!-- ADDRESS / PHONE -->
                <div class="row">
                    <div class="form-group col-md-5">
                        <label>Mailing Address:</label>
                        <br/>
                        <input type="text" name="address" ng-model="loan.applicant.address" class="form-control"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>City:</label>
                        <br/>
                        <input type="text" name="city" ng-model="loan.applicant.city" class="form-control"/>
                    </div>
                    <div class="form-group col-md-2">
                        <label>State:</label>
                        <br/>
                        <select name="state" ng-model="loan.applicant.state_id" class="form-control" ng-options="s.id as s.state for s in feeder.states">
                            <option value="">Please select ...</option>
                        </select>
                    </div>
                    <div class="form-group col-md-2">
                        <label>Zip:</label>
                        <br/>
                        <input type="text" name="zip" ng-model="loan.applicant.zip" class="form-control"/>
                    </div>
                </div>
                <!-- ADDRESS / PHONE -->

                <!-- PHONE / EMAIL / SSN / DOB -->
                <div class="row">
                    <div class="form-group col-md-5">
                        <label>Phone:</label>
                        <br/>
                        <input type="text" name="phone" ui-mask="(999) 999-9999" ng-model="loan.applicant.phone" class="form-control"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Email Address:</label>
                        <br/>
                        <input type="text" name="email" ng-model="loan.applicant.email" class="form-control"/>
                    </div>
                    <div class="form-group col-md-2">
                        <label>SSN / Tax ID Number:</label>
                        <br/>
                        <input type="text" name="ssn" ng-model="loan.applicant.ssn" class="form-control"/>
                    </div>
                    <div class="form-group col-md-2">
                        <label>DOB or Incorporation:</label>
                        <br/>
                        <input type="text" name="dob" ui-mask="99/99/9999" ng-model="loan.applicant.dob" class="form-control" style="width: 120px;"/>
                    </div>
                </div>
                <!-- PHONE / EMAIL / SSN / DOB -->

                <!-- SPOUSE / SSN -->
                <div class="row" ng-if="applicant.entity_id == '5'">
                    <div class="form-group col-md-3">
                        <label>Spouse</label>
                        <br/>
                        <input type="text" name="spouse" ng-model="loan.applicant.spouse" class="form-control"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Spouse SSN:</label>
                        <br/>
                        <input type="text" name="spouse_ssn" ng-model="loan.applicant.spouse_ssn" ui-mask="999-99-9999" class="form-control"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Spouse Phone:</label>
                        <br/>
                        <input type="text" name="spouse_phone" ui-mask="(999) 999-9999" ng-model="loan.applicant.spouse_phone" class="form-control"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Spouse Email:</label>
                        <br/>
                        <input type="text" name="spouse_email" ng-model="loan.applicant.spouse_email" class="form-control"/>
                    </div>

                </div>
                <!-- SPOUSE / SSN -->
            </form>
        </div>
    </div>
</fieldset>

<fieldset ng-show="loan.entity_type_id == '4'">
    <legend>Partners</legend>
    <div class="container-fluid">
        <div class="row">
            <table id="tblPartner" class="tblLanding" style="width:96%; margin:0 auto;">
                <tr class="landing_data_row">
                    <td colspan="6">
                        <p ng-click="createPartner()" style="cursor:pointer;">
                            <span class="glyphicon glyphicon-plus" ng-click="createPartner()"></span> Add New
                        </p>
                    </td>
                </tr>
                <tr class="landing_header_row clr-darkgreen" style="color:white;">
                    <th style="width:20%;" data-ng-click="doSort('name')">Name</th>
                    <th style="width:10%;" data-ng-click="doSort('SSN')">SSN</th>
                    <th style="width:10%;" data-ng-click="doSort('Phone')">Phone</th>
                    <th style="width:10%;" data-ng-click="doSort('Email')">Email</th>
                    <th style="width:5%;">&nbsp;</th>
                </tr>
                <tr ng-repeat="p in loan.partners" class="landing_data_row">
                    <td>
                        <text-edit-in-place value="p.partner"></text-edit-in-place>
                    </td>
                    <td>
                        <social-edit-in-place value="p.ssn"></social-edit-in-place>
                    </td>
                    <td>
                        <phone-edit-in-place value="p.phone"></phone-edit-in-place>
                    </td>
                    <td>
                        <text-edit-in-place value="p.email"></text-edit-in-place>
                    </td>
                    <td>
        <span style="cursor: pointer;" ng-click="updatePartner(p)">
          <span class="glyphicon glyphicon-ok-circle" style="color:#000099;"></span></span>
          <span style="cursor: pointer;" ng-click="updatePartner(p)">
            <span delete-record></span>
          </span>
                    </td>
                </tr>
                <tr ng-if="loan.partners.length == 0" class="landing_data_row">
                    <td colspan="6"><b>No partners found!</b></td>
                </tr>
            </table>
        </div>
    </div>
</fieldset>

<fieldset ng-show="loan.entity_type_id == '3'">
    <legend>Joint Ventures</legend>
    <div class="container-fluid">
        <div class="row">
            <table id="tblCosigner" class="tblLanding" style="width:96%; margin:0 auto;">
                <tr class="landing_data_row">
                    <td colspan="6">
                        <p ng-click="createVenture()" style="cursor:pointer;">
                            <span class="glyphicon glyphicon-plus" ng-click="createVenture()"></span> Add New
                        </p>
                    </td>
                </tr>
                <tr class="landing_header_row clr-darkgreen" style="color:white;">
                    <th style="width:20%;" data-ng-click="doSort('name')">Name</th>
                    <th style="width:10%;" data-ng-click="doSort('SSN')">SSN</th>
                    <th style="width:10%;" data-ng-click="doSort('Phone')">Phone</th>
                    <th style="width:10%;" data-ng-click="doSort('Email')">Email</th>
                    <th style="width:5%;">&nbsp;</th>
                </tr>
                <tr ng-repeat="p in loan.ventures" class="landing_data_row">
                    <td>
                        <text-edit-in-place value="p.partner"></text-edit-in-place>
                    </td>
                    <td>
                        <social-edit-in-place value="p.ssn"></social-edit-in-place>
                    </td>
                    <td>
                        <phone-edit-in-place value="p.phone"></phone-edit-in-place>
                    </td>
                    <td>
                        <text-edit-in-place value="p.email"></text-edit-in-place>
                    </td>
                    <td>
        <span style="cursor: pointer;" ng-click="updateVenture(p)">
          <span class="glyphicon glyphicon-ok-circle" style="color:#000099;"></span> Update
        </span>
                    </td>
                </tr>
                <tr ng-if="loan.ventures.length == 0" class="landing_data_row">
                    <td colspan="6"><b>No joint ventures found!</b></td>
                </tr>
            </table>
        </div>
    </div>
</fieldset>

<fieldset ng-show="loan.entity_type_id == '1'">
    <legend>Corporation</legend>
    <div class="container-fluid">
        <div class="row">
            <div ng-repeat="c in loan.corporations">
                <div class="row">
                    <div class="form-group col-md-4">
                        <label>President (Last, First, MI):</label>
                        <br/>
                        <text-edit-in-place value="c.president"></text-edit-in-place>
                    </div>
                    <div class="form-group col-md-4">
                        <label>Vice-President (Last, First, MI):</label>
                        <br/>
                        <text-edit-in-place value="c.vicepresident"></text-edit-in-place>
                    </div>
                    <div class="form-group col-md-4">
                        <label>Secretary/Treasurer (Last, First, MI):</label>
                        <br/>
                        <text-edit-in-place value="c.secretarytreasurer"></text-edit-in-place>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-md-12">
                        <label>Corporation Details.</label>
                        <textarea name="corp_details" ng-model="c.description" class="form-control" style="height:120px;"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
</fieldset>