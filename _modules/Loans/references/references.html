<fieldset>
    <legend>Distributor</legend>
    <div class="container-fluid">
        <div class="row">
            <div class="form-group col-md-12">
                <!-- DISTRIBUTOR -->
                <div class="row">
                    <div class="form_group col-md-7">
                        <label>Distributor:</label>
                        <br/>
                        <input type="text" class="form-control" ng-model="loan.distributor.distributor"/>
                    </div>
                    <div class="form-group col-md-4">
                        <label>Phone:</label>
                        <br/>
                        <input type="text" class="form-control" ui-mask="(999) 999.9999" ng-model="loan.distributor.phone"/>
                    </div>
                </div>
                <!-- Distributor -->

                <!-- ADDRESS / PHONE -->
                <div class="row">
                    <div class="form-group col-md-4">
                        <label>Mailing Address:</label>
                        <br/>
                        <input type="text" class="form-control" ng-model="loan.distributor.address"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>City:</label>
                        <br/>
                        <input type="text" class="form-control" ng-model="loan.distributor.city"/>
                    </div>
                    <div class="form-group col-md-2">
                        <label>State:</label>
                        <br/>
                        <select name="state" ng-model="loan.distributor.state_id" class="form-control"
                                ng-options="s.id as s.state for s in feeder.states">
                            <option value="">Please select ...</option>
                        </select>
                    </div>
                    <div class="form-group col-md-2">
                        <label>Zip:</label>
                        <br/>
                        <input type="text" class="form-control" ng-model="loan.distributor.zip"/>
                    </div>
                </div>
                <!-- ADDRESS / PHONE -->

                <!-- PHONE / EMAIL / DOB -->
                <div class="row">
                    <div class="form-group col-md-4">
                        <label>Loan Contact:</label>
                        <br/>
                        <input type="text" class="form-control" ng-model="loan.distributor.contact"/>
                    </div>
                    <div class="form-group col-md-3">
                        <label>Phone:</label>
                        <br/>
                        <input type="text" class="form-control" ui-mask="(999) 999.9999" ng-model="loan.distributor.phone"/>
                    </div>
                    <div class="form-group col-md-4">
                        <label>Email Address:</label>
                        <br/>
                        <input type="text" class="form-control" ng-model="loan.distributor.email"/>
                    </div>
                </div>
                <!-- PHONE / EMAIL / DOB -->

                <div class="row">
                    <div class="col-md-12 text-right">
                        <button style="margin-right:10px;" class="btn btn-primary" ng-click="updateDistributor(loan.distributor)"><span class="glyphicons glyphicons-log-book"></span>&nbsp;UPDATE</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</fieldset>
<br><br>
<fieldset>
    <legend>References</legend>
    <div class="container-fluid">
        <div class="row">
            <div class="row form-group">
                <table class="table table-striped table-rowed" style="width:96%; margin:0 auto;">
                    <tr>
                        <th style="width:20%;" data-ng-click="doSort('creditor')">Creditor</th>
                        <th style="width:10%;" data-ng-click="doSort('contact')">Contact</th>
                        <th style="width:10%;" data-ng-click="doSort('city_state')">Location</th>
                        <th style="width:10%;" data-ng-click="doSort('Email')">Email</th>
                        <th style="width:5%;">&nbsp;</th>
                    </tr>
                    <tr ng-repeat="p in loan.references" ng-init="!rowform.$visible" ng-dblclick="rowform.$show()">
                        <td class="cBlue">
                        <span editable-text="p.creditor" e-name="partner" e-form="rowform" e-style="width:100%;" e-required>
                  {{ p.creditor || '--' }}
                </span>
                        </td>
                        <td class="cBlue">
                        <span editable-text="p.contact" e-name="contact" e-form="rowform" e-style="width:100%;" e-required>
                  {{ p.contact }}
                </span>
                        </td>
                        <td class="cBlue">
                       <span editable-text="p.phone" e-name="phone" e-form="rowform" e-style="width:100%;" e-required>
                  {{ p.phone || '--' }}
                </span>
                        </td>
                        <td class="cBlue">
                        <span editable-text="p.email" e-name="email" e-form="rowform" e-style="width:100%;" e-required>
                  {{ p.email || '--' }}
                </span>
                        </td>
                        <td>
                            <!-- form -->
                            <form editable-form name="rowform" onbeforesave="saveReference($data, p.id)" ng-show="rowform.$visible" class="form-buttons form-inline">
                                <button type="submit" ng-disabled="rowform.$waiting"><span class="glyphicons glyphicons-circle-ok" style="color:#006837;"></span></button>

                                <button type="button" class="btnCancel" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()"><span class="glyphicons glyphicons-circle-remove" style="color: #990000;"></span></button>
                            </form>
                            <div class="buttons" ng-show="!rowform.$visible">
                    <span class="glyphicons glyphicons-bin"
                          style="color: #990000;"
                          ng-click="deletePartner($index, p.id)"></span>
                        </td>
                    </tr>
                    <tr ng-if="loan.references.length == 0">
                        <td colspan="6"><b>No references found!</b></td>
                    </tr>
                </table>
            </div>
            <div class="row container" style="margin-left: -5px;">
                <p>
                    <a ng-click="createNewReference()" class="btn btn-xs btn-default">
                        <span class="glyphicon glyphicon-plus-sign" style="color:#006837;"></span> Add New</a>
                </p>
            </div>
        </div>
    </div>
</fieldset>